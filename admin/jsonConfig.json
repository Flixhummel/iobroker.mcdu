{
  "i18n": true,
  "type": "tabs",
  "items": {
    "generalTab": {
      "type": "panel",
      "label": "General Settings",
      "items": {
        "mqttSettings": {
          "type": "panel",
          "label": "MQTT Connection",
          "items": {
            "mqtt.broker": {
              "type": "text",
              "label": "Broker Address",
              "placeholder": "10.10.5.149",
              "default": "10.10.5.149",
              "sm": 12,
              "md": 6
            },
            "mqtt.port": {
              "type": "number",
              "label": "Port",
              "default": 1883,
              "min": 1,
              "max": 65535,
              "sm": 12,
              "md": 6
            },
            "mqtt.username": {
              "type": "text",
              "label": "Username",
              "default": "iobroker",
              "sm": 12,
              "md": 6
            },
            "mqtt.password": {
              "type": "password",
              "label": "Password",
              "sm": 12,
              "md": 6
            },
            "mqtt.topicPrefix": {
              "type": "text",
              "label": "Topic Prefix",
              "default": "mcdu",
              "help": "MQTT topic prefix (lowercase, numbers, dashes, slashes only)",
              "sm": 12,
              "md": 6
            }
          }
        },
        "_divider1": {
          "type": "divider"
        },
        "displaySettings": {
          "type": "panel",
          "label": "Display Settings",
          "items": {
            "display.columns": {
              "type": "number",
              "label": "Columns",
              "default": 24,
              "disabled": true,
              "help": "Fixed by hardware",
              "sm": 12,
              "md": 4
            },
            "display.rows": {
              "type": "number",
              "label": "Rows",
              "default": 14,
              "disabled": true,
              "help": "Fixed by hardware",
              "sm": 12,
              "md": 4
            },
            "display.defaultColor": {
              "type": "select",
              "label": "Default Color",
              "options": [
                {"label": "White", "value": "white"},
                {"label": "Green", "value": "green"},
                {"label": "Blue", "value": "blue"},
                {"label": "Amber", "value": "amber"},
                {"label": "Red", "value": "red"},
                {"label": "Magenta", "value": "magenta"},
                {"label": "Cyan", "value": "cyan"},
                {"label": "Yellow", "value": "yellow"}
              ],
              "default": "white",
              "sm": 12,
              "md": 4
            }
          }
        },
        "_divider2": {
          "type": "divider"
        },
        "performanceSettings": {
          "type": "panel",
          "label": "Performance",
          "items": {
            "performance.renderThrottle": {
              "type": "number",
              "label": "Render Throttle (ms)",
              "default": 100,
              "min": 50,
              "max": 1000,
              "help": "Minimum time between display updates (prevents flooding)",
              "sm": 12,
              "md": 6
            },
            "performance.maxQueueSize": {
              "type": "number",
              "label": "Max Queue Size",
              "default": 100,
              "min": 10,
              "max": 1000,
              "help": "Maximum pending display updates",
              "sm": 12,
              "md": 6
            }
          }
        }
      }
    },
    "devicePagesTab": {
      "type": "panel",
      "label": "Device & Pages",
      "items": {
        "deviceSection": {
          "type": "panel",
          "label": "Device Selection",
          "items": {
            "_deviceInfo": {
              "type": "staticText",
              "text": "Select a device, then load its page configuration. Edit pages below and save back to the device.",
              "sm": 12
            },
            "selectedDevice": {
              "type": "autocompleteSendTo",
              "command": "browseDevices",
              "label": "Device",
              "sm": 12,
              "md": 6
            },
            "loadDevicePagesBtn": {
              "type": "sendTo",
              "command": "loadDevicePages",
              "jsonData": "{\"deviceId\": \"${data.selectedDevice}\"}",
              "variant": "contained",
              "label": "Load Config",
              "sm": 6,
              "md": 3
            },
            "saveDevicePagesBtn": {
              "type": "sendTo",
              "command": "saveDevicePages",
              "variant": "contained",
              "label": "Save Config",
              "useNative": true,
              "sm": 6,
              "md": 3
            }
          }
        },
        "_dividerTemplate": {
          "type": "divider",
          "text": "Templates"
        },
        "templateSection": {
          "type": "panel",
          "items": {
            "selectedTemplate": {
              "type": "select",
              "label": "Template",
              "options": [
                {"label": "-- Select Template --", "value": ""},
                {"label": "Home Automation", "value": "home"},
                {"label": "Climate Control", "value": "climate"},
                {"label": "Lighting Control", "value": "lights"}
              ],
              "sm": 12,
              "md": 6
            },
            "loadTemplateButton": {
              "type": "sendTo",
              "command": "loadTemplate",
              "jsonData": "{\"templateId\": \"${data.selectedTemplate}\"}",
              "variant": "contained",
              "label": "Apply Template",
              "useNative": true,
              "sm": 12,
              "md": 6
            }
          }
        },
        "_dividerPages": {
          "type": "divider",
          "text": "Pages"
        },
        "pages": {
          "type": "accordion",
          "label": "MCDU Pages",
          "titleAttr": "name",
          "clone": true,
          "items": [
            {
              "type": "text",
              "attr": "id",
              "sm": 12,
              "md": 4,
              "label": "Page ID",
              "placeholder": "home-main",
              "help": "Unique page identifier (lowercase, numbers, dashes only)"
            },
            {
              "type": "text",
              "attr": "name",
              "sm": 12,
              "md": 4,
              "label": "Page Name",
              "placeholder": "Hauptmenu",
              "help": "Display name for this page"
            },
            {
              "type": "autocompleteSendTo",
              "attr": "parent",
              "command": "getPageList",
              "label": "Parent Page",
              "sm": 12,
              "md": 4,
              "freeSolo": true,
              "help": "Page ID of parent page (leave empty for root page)"
            },
            {
              "type": "table",
              "attr": "lines",
              "label": "Lines Configuration",
              "sm": 12,
              "items": [
                {
                  "type": "number",
                  "attr": "row",
                  "title": "Row",
                  "width": "60px",
                  "min": 1,
                  "max": 13,
                  "default": 1
                },
                {
                  "type": "panel",
                  "attr": "left",
                  "title": "Left Side",
                  "width": "500px",
                  "items": {
                    "label": {
                      "type": "text",
                      "label": "Sub-Label",
                      "maxLength": 12,
                      "placeholder": "WOHNZIMMER",
                      "help": "Cyan sub-label on even row above (left-aligned)"
                    },
                    "_dividerLeftDisplay": {
                      "type": "divider",
                      "text": "Display"
                    },
                    "display.type": {
                      "type": "select",
                      "label": "Type",
                      "options": [
                        {"label": "Empty", "value": "empty"},
                        {"label": "Label (Static)", "value": "label"},
                        {"label": "Data Point", "value": "datapoint"}
                      ],
                      "default": "empty"
                    },
                    "display.text": {
                      "type": "text",
                      "label": "Text",
                      "maxLength": 12,
                      "placeholder": "Deckenleuchte"
                    },
                    "display.source": {
                      "type": "text",
                      "label": "Data Source (State ID)",
                      "placeholder": "hm-rpc.0.DEVICE.STATE"
                    },
                    "display.format": {
                      "type": "text",
                      "label": "Format",
                      "placeholder": "%.1f"
                    },
                    "display.unit": {
                      "type": "text",
                      "label": "Unit",
                      "placeholder": "C",
                      "maxLength": 5
                    },
                    "display.color": {
                      "type": "select",
                      "label": "Color",
                      "options": [
                        {"label": "White", "value": "white"},
                        {"label": "Green", "value": "green"},
                        {"label": "Blue", "value": "blue"},
                        {"label": "Amber", "value": "amber"},
                        {"label": "Red", "value": "red"},
                        {"label": "Magenta", "value": "magenta"},
                        {"label": "Cyan", "value": "cyan"},
                        {"label": "Yellow", "value": "yellow"}
                      ],
                      "default": "white"
                    },
                    "display.editable": {
                      "type": "checkbox",
                      "label": "Editable",
                      "default": false
                    },
                    "_dividerLeftButton": {
                      "type": "divider",
                      "text": "LSK Button"
                    },
                    "button.type": {
                      "type": "select",
                      "label": "Type",
                      "options": [
                        {"label": "Empty", "value": "empty"},
                        {"label": "Navigation", "value": "navigation"},
                        {"label": "Data Point", "value": "datapoint"}
                      ],
                      "default": "empty"
                    },
                    "button.action": {
                      "type": "select",
                      "label": "Action",
                      "options": [
                        {"label": "Go To", "value": "goto"},
                        {"label": "Toggle", "value": "toggle"},
                        {"label": "Increment", "value": "increment"},
                        {"label": "Decrement", "value": "decrement"}
                      ],
                      "default": "goto"
                    },
                    "button.target": {
                      "type": "text",
                      "label": "Target",
                      "placeholder": "page-id or state-id",
                      "help": "Page ID for navigation, State ID for datapoint actions"
                    }
                  }
                },
                {
                  "type": "panel",
                  "attr": "right",
                  "title": "Right Side",
                  "width": "500px",
                  "items": {
                    "label": {
                      "type": "text",
                      "label": "Sub-Label",
                      "maxLength": 12,
                      "placeholder": "",
                      "help": "Cyan sub-label on even row above (right-aligned)"
                    },
                    "_dividerRightDisplay": {
                      "type": "divider",
                      "text": "Display"
                    },
                    "display.type": {
                      "type": "select",
                      "label": "Type",
                      "options": [
                        {"label": "Empty", "value": "empty"},
                        {"label": "Label (Static)", "value": "label"},
                        {"label": "Data Point", "value": "datapoint"}
                      ],
                      "default": "empty"
                    },
                    "display.text": {
                      "type": "text",
                      "label": "Text",
                      "maxLength": 12,
                      "placeholder": "AN/AUS"
                    },
                    "display.source": {
                      "type": "text",
                      "label": "Data Source (State ID)",
                      "placeholder": "hm-rpc.0.DEVICE.STATE"
                    },
                    "display.format": {
                      "type": "text",
                      "label": "Format",
                      "placeholder": "%s"
                    },
                    "display.unit": {
                      "type": "text",
                      "label": "Unit",
                      "placeholder": "",
                      "maxLength": 5
                    },
                    "display.color": {
                      "type": "select",
                      "label": "Color",
                      "options": [
                        {"label": "White", "value": "white"},
                        {"label": "Green", "value": "green"},
                        {"label": "Blue", "value": "blue"},
                        {"label": "Amber", "value": "amber"},
                        {"label": "Red", "value": "red"},
                        {"label": "Magenta", "value": "magenta"},
                        {"label": "Cyan", "value": "cyan"},
                        {"label": "Yellow", "value": "yellow"}
                      ],
                      "default": "white"
                    },
                    "display.editable": {
                      "type": "checkbox",
                      "label": "Editable",
                      "default": false
                    },
                    "_dividerRightButton": {
                      "type": "divider",
                      "text": "LSK Button"
                    },
                    "button.type": {
                      "type": "select",
                      "label": "Type",
                      "options": [
                        {"label": "Empty", "value": "empty"},
                        {"label": "Navigation", "value": "navigation"},
                        {"label": "Data Point", "value": "datapoint"}
                      ],
                      "default": "empty"
                    },
                    "button.action": {
                      "type": "select",
                      "label": "Action",
                      "options": [
                        {"label": "Go To", "value": "goto"},
                        {"label": "Toggle", "value": "toggle"},
                        {"label": "Increment", "value": "increment"},
                        {"label": "Decrement", "value": "decrement"}
                      ],
                      "default": "goto"
                    },
                    "button.target": {
                      "type": "text",
                      "label": "Target",
                      "placeholder": "page-id or state-id",
                      "help": "Page ID for navigation, State ID for datapoint actions"
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    },
    "advancedAboutTab": {
      "type": "panel",
      "label": "Advanced & About",
      "items": {
        "debugSettings": {
          "type": "panel",
          "label": "Debug Settings",
          "items": {
            "debug.enabled": {
              "type": "checkbox",
              "label": "Enable Debug Logging",
              "default": false,
              "help": "Enable detailed debug logs (affects performance)",
              "sm": 12,
              "md": 6
            },
            "debug.logMqtt": {
              "type": "checkbox",
              "label": "Log MQTT Messages",
              "default": false,
              "help": "Log all MQTT publish/subscribe messages",
              "sm": 12,
              "md": 6
            }
          }
        },
        "_dividerExport": {
          "type": "divider",
          "text": "Configuration Export/Import"
        },
        "exportInfo": {
          "type": "staticText",
          "text": "Use the standard ioBroker config export/import functionality to backup and restore your MCDU configuration."
        },
        "_dividerAbout": {
          "type": "divider",
          "text": "About"
        },
        "_description": {
          "type": "staticText",
          "text": "<h3>ioBroker MCDU Adapter</h3><p>Aviation-inspired smart home controller using authentic MCDU interface patterns.</p><h4>Display Model</h4><p>Each row has independent <strong>left</strong> and <strong>right</strong> columns, like a real MCDU. Left content is left-aligned (chars 1-12), right content is right-aligned (chars 13-24). Sub-labels appear on even rows in cyan.</p><h4>Per-Device Pages</h4><p>Page configurations are stored per device. Select a device in the Device & Pages tab, load its config, edit, and save back.</p>",
          "sm": 12
        },
        "_version": {
          "type": "staticText",
          "text": "Version: 2.0.0",
          "sm": 12
        },
        "_github": {
          "type": "staticLink",
          "text": "GitHub Repository",
          "href": "https://github.com/Flixhummel/mcdu",
          "sm": 12
        }
      }
    }
  }
}
